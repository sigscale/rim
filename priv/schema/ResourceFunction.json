{
	"$id": "http://sigscale.org/schema/ResourceFunction",
	"title": "Resource Function",
	"description": "A function is a behaviour to transform inputs of any nature into outputs of any nature independently from the way it is provided (TR225)",
	"type": "object",
	"allOf": [
		{
			"$ref": "resourceInventoryManagement#/definitions/Resource"
		},
		{
			"type" : "object",
			"properties" : {
				"type" : {
					"type" : "string",
					"description" : "The type/category of the resource function"
				},
				"role" : {
					"type" : "string",
					"description" : "Used when RF is a component of a composite RF"
				},
				"location" : {
					"type" : "object",
					"description" : "Location at which Resource Function is required",
					"properties" : {
						"id" : {
						  "type" : "string",
						  "description" : "A unique id for location"
						},
						"href" : {
						  "type" : "string",
						  "description" : "URI for the location"
						}
					},
					"required" : [
						"href"
					]
				},
				"state" : {
					"type" : "string",
					"description" : "Provides the stage at which the RF has been instantiated. This is a compound state defined in TR255",
					"enum" : [
						"planning",
						"installing",
						"operating",
						"retiring"
					]
				},
				"subState" : {
					"type" : "string",
					"description" : "Provides the usage sub-state information for the resource function. The value is dependent on the value of State. Please refer to section 3.2.7 of TR255 for details."
				},
				"autoModification" : {
					"type" : "string",
					"description" : "Kinds of auto-modifications that are applied"
				},
				"priority" : {
					"type" : "integer",
					"description" : "Priority of the Resource Function"
				},
				"sap" : {
					"type" : "array",
					"description" : "Available Service Access Points (SAP)",
					"items" : {
						"$ref" : "SAPRef"
					}
				},
				"resourceFunctionSpecification" : {
					"description" : "Resource specification used to create RF",
					"$ref" : "ResourceFunctionSpec"
				},
				"characteristic" : {
					"type" : "array",
					"description" : "Resource characteristics",
					"items" : {
						"$ref" : "#/definitions/Characteristic"
					}
				},
				"feature" : {
					"type" : "array",
					"description" : "Features",
					"items" : {
						"$ref" : "#/definitions/Feature"
					}
				},
				"featureGroup" : {
					"type" : "array",
					"description" : "Feature groups",
					"items" : {
						"$ref" : "#/definitions/FeatureGroup"
					}
				},
				"supportingResourceFunction" : {
					"type" : "array",
					"description" : "RFs from which this RF is composed",
					"items" : {
						"$ref" : "#"
					}
				},
				"connectivity" : {
					"type" : "array",
					"description" : "How the RFs listed above are connected together",
					"items" : {
						"$ref" : "Connectivity"
					}
				}
			},
			"required" : [
				"resourceFunctionSpecification"
			]
		}
	],
	"definitions": {
		"Characteristic" : {
			"type" : "object",
			"properties" : {
				"name" : {
					"type" : "string"
				},
				"value" : {
					"type" : "string"
				}
			},
			"required" : [
				"name",
				"value"
			]
		},
		"Feature": {
			"type" : "object",
			"properties" : {
				"name" : {
					"type" : "string",
					"description" : "This is the name for the feature"
				},
				"listOfCharacteristics" : {
					"type" : "array",
					"description" : "This is a list of Resource Characteristics for a particular feature",
					"items" : {
						"$ref" : "#/definitions/Characteristic"
					}
				}
			},
			"required" : [
				"name",
				"listOfCharacteristics"
			]
		},
		"FeatureGroup": {
			"type" : "object",
			"properties" : {
				"name" : {
					"type" : "string",
					"description" : "This is the name for the feature group"
				},
				"listOfCharacteristics" : {
					"type" : "array",
					"description" : "This is a list of  Resource Characteristics for a particular feature",
					"items" : {
						"$ref" : "#/definitions/Characteristic"
					}
				},
				"listOfFeatures" : {
					"type" : "array",
					"description" : "This is a list of features for a particular feature group",
					"items" : {
						"$ref" : "#/definitions/Feature"
					}
				}
			},
			"required" : [
				"name",
				"listOfCharacteristics",
				"listOfFeatures"
			]
		},
		"ResourceFunctionRef" : {
			"type" : "object",
			"properties" : {
				"id" : {
					"type" : "string",
					"description" : "A unique id for RF"
				},
				"href" : {
					"type" : "string",
					"description" : "URI for the RF"
				}
			},
			"required" : [
				"href"
			]
		}
	}
}
